{
  "hash": "595a40fa4cffbe2488552bff2bab0740",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"***t*-Test Assumptions**\"\nsubtitle: \"**STA4173: Biostatistics** <br> Spring 2025\"\nformat: \n  revealjs: \n    code-overflow: wrap\n    df-print: paged\n    embed-resources: true\n    slide-number: true\n    width: 1600\n    height: 900\n    html-math-method: katex\n    theme:\n      - default\nexecute:\n  echo: true\n  warning: false\n  message: false\n  error: true\neditor: source\n---\n\n\n\n## Introduction: Assumptions\n\n- We have now learned one- and two-sample *t*-tests.\n\n- Recall, when we have two samples, they can be independent samples or dependent samples.\n\n    - Independent samples: two-sample *t*-test\n    \n    - Dependent samples: paired *t*-test (one-sample *t*-test on difference)\n    \n- Today we will discuss how to assess the assumptions on *t*-tests.\n\n## Normality Assumption: Set Up\n\n- All *t*-tests assume approximate normality of the data.\n\n    - In the case of one-sample *t*-tests, the measure of interest must somewhat follow a normal distribution.\n\n    - In the case of two-sample *t*-tests, the measure of interest *in each group* must somewhat follow a normal distribution.\n    \n- Note that a paired *t*-test is technically a one-sample *t*-test, so we will examine normality of the difference. \n\n## Normality Assumption: Set Up\n\n- There are formal tests for normality ([see article here](https://www.ncbi.nlm.nih.gov/pmc/articles/PMC3693611/)), however, we will not use them.\n\n    - Tests for normality are not well-endorsed by statisticians.\n    \n- Instead, we will assess normality using a quantile-quantile (q-q) plot.\n\n    - This is a scatterplot that will form a 45&deg; line if the assumed distribution is correct.\n    \n    - [Here is more information about q-q plots](https://data.library.virginia.edu/understanding-q-q-plots/).\n\n- We will create q-q plots for:\n\n    - The measurements in the case of the one-sample *t*-test.\n\n    - The measurements from each group in the case of the two-sample *t*-test.\n    \n    - The difference between the groups in the case of the paired *t*-test.\n    \n## Normality Assumption: R Syntax\n\n- We will assess the normality assumption graphically using a q-q plot\n    \n- A package was written by a former student, [`classpackage`](https://github.com/ieb2/classpackage).\n\n    - If you **are** working on the server, the package is already installed.\n\n    - If you are **not** working on the server, please ask me for the code needed to install.\n    \n\n\n::: {.cell}\n\n:::\n\n\n\n## Normality Assumption: Independent Data - R Syntax\n\n- Once installed, we call the package,\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(classpackage)\n```\n:::\n\n\n\n- While there are several functions in this package, we are currently interested in the `independent_qq_plot()` function.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndataset_name %>% independent_qq_plot(variable = \"continuous variable\",\n                                     grouping_variable = \"grouping variable\")\n```\n:::\n\n\n\n- This will provide the the q-q plot for the two-sample *t*-test (i.e., for independent data).\n\n## Normality Assumption: Independent Data - Example\n\n- Recall the penguin example for the two-sample *t*-test.\n\n    - Is the body mass different for males and females?\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\npenguins <- palmerpenguins::penguins\nhead(penguins, n=3)\n```\n\n::: {.cell-output-display}\n`````{=html}\n<div data-pagedtable=\"false\">\n  <script data-pagedtable-source type=\"application/json\">\n{\"columns\":[{\"label\":[\"species\"],\"name\":[1],\"type\":[\"fct\"],\"align\":[\"left\"]},{\"label\":[\"island\"],\"name\":[2],\"type\":[\"fct\"],\"align\":[\"left\"]},{\"label\":[\"bill_length_mm\"],\"name\":[3],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"bill_depth_mm\"],\"name\":[4],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"flipper_length_mm\"],\"name\":[5],\"type\":[\"int\"],\"align\":[\"right\"]},{\"label\":[\"body_mass_g\"],\"name\":[6],\"type\":[\"int\"],\"align\":[\"right\"]},{\"label\":[\"sex\"],\"name\":[7],\"type\":[\"fct\"],\"align\":[\"left\"]},{\"label\":[\"year\"],\"name\":[8],\"type\":[\"int\"],\"align\":[\"right\"]}],\"data\":[{\"1\":\"Adelie\",\"2\":\"Torgersen\",\"3\":\"39.1\",\"4\":\"18.7\",\"5\":\"181\",\"6\":\"3750\",\"7\":\"male\",\"8\":\"2007\"},{\"1\":\"Adelie\",\"2\":\"Torgersen\",\"3\":\"39.5\",\"4\":\"17.4\",\"5\":\"186\",\"6\":\"3800\",\"7\":\"female\",\"8\":\"2007\"},{\"1\":\"Adelie\",\"2\":\"Torgersen\",\"3\":\"40.3\",\"4\":\"18.0\",\"5\":\"195\",\"6\":\"3250\",\"7\":\"female\",\"8\":\"2007\"}],\"options\":{\"columns\":{\"min\":{},\"max\":[10]},\"rows\":{\"min\":[10],\"max\":[10]},\"pages\":{}}}\n  </script>\n</div>\n`````\n:::\n:::\n\n\n\n- Requesting the q-q plot,\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\npenguins %>% independent_qq_plot(variable = \"body_mass_g\",\n                                 grouping_variable = \"sex\")\n```\n:::\n\n\n\n## Normality Assumption: Independent Data - Example\n\n<center>\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](W04-L2-assumptions_files/figure-revealjs/unnamed-chunk-6-1.png){width=960}\n:::\n:::\n\n\n</center>\n\n\n## Normality Assumption: Dependent Data - R Syntax\n\n- While there are several functions in the `classpackage` package, we are now interested in the `dependent_qq_plot()` function.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nwide_data %>% dependent_qq_plot(variable = \"Display Name of Continuous Variable\",\n                                grouping_variable = \" \", # do not edit this line\n                                first_group = \"first_variable\", # first column for comparison\n                                second_group = \"second_variable\") # second column for comparison\n```\n:::\n\n\n\n- This will provide the the q-q plot for the paired *t*-test (i.e., for dependent data).\n\n## Normality Assumption: Repair Estimates\n\n- Recall the repair estimate example for the dependent *t*-test.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ngarage <- tibble(g1 = c(17.6, 20.2, 19.5, 11.3, 13.0, \n                        16.3, 15.3, 16.2, 12.2, 14.8,\n                        21.3, 22.1, 16.9, 17.6, 18.4), \n                 g2 = c(17.3, 19.1, 18.4, 11.5, 12.7, \n                        15.8, 14.9, 15.3, 12.0, 14.2, \n                        21.0, 21.0, 16.1, 16.7, 17.5))\n```\n:::\n\n\n\n- Requesting the q-q plot,\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ngarage %>% dependent_qq_plot(variable = \"estimate\",\n                             grouping_variable = \"garage\",\n                             first_group = \"g1\",\n                             second_group = \"g2\")\n```\n:::\n\n\n\n## Normality Assumption: Repair Estimates\n\n<center>\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](W04-L2-assumptions_files/figure-revealjs/unnamed-chunk-10-1.png){width=960}\n:::\n:::\n\n\n</center>\n\n\n## Wrap Up\n\n- **Important note!!** \n\n    - *I do not expect you to agree with my assessment of q-q plots!* \n    - What I do expect is that you know what to do after making your assessment.\n\n- Next up: \n\n    - What happens if we do not meet the assumption for a *t*-test....?\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",
    "supporting": [
      "W04-L2-assumptions_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<link href=\"../../site_libs/pagedtable-1.1/css/pagedtable.css\" rel=\"stylesheet\" />\n<script src=\"../../site_libs/pagedtable-1.1/js/pagedtable.js\"></script>\n"
      ],
      "include-after-body": [
        "\n<script>\n  // htmlwidgets need to know to resize themselves when slides are shown/hidden.\n  // Fire the \"slideenter\" event (handled by htmlwidgets.js) when the current\n  // slide changes (different for each slide format).\n  (function () {\n    // dispatch for htmlwidgets\n    function fireSlideEnter() {\n      const event = window.document.createEvent(\"Event\");\n      event.initEvent(\"slideenter\", true, true);\n      window.document.dispatchEvent(event);\n    }\n\n    function fireSlideChanged(previousSlide, currentSlide) {\n      fireSlideEnter();\n\n      // dispatch for shiny\n      if (window.jQuery) {\n        if (previousSlide) {\n          window.jQuery(previousSlide).trigger(\"hidden\");\n        }\n        if (currentSlide) {\n          window.jQuery(currentSlide).trigger(\"shown\");\n        }\n      }\n    }\n\n    // hookup for slidy\n    if (window.w3c_slidy) {\n      window.w3c_slidy.add_observer(function (slide_num) {\n        // slide_num starts at position 1\n        fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);\n      });\n    }\n\n  })();\n</script>\n\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}