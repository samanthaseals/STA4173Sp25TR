{
  "hash": "a46a1d913317ddae6a152b3534ed00b6",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"**Wilcoxon Signed Rank**\"\nsubtitle: \"**STA4173: Biostatistics** <br> Spring 2025\"\nformat: \n  revealjs: \n    code-overflow: wrap\n    df-print: paged\n    embed-resources: true\n    slide-number: true\n    width: 1600\n    height: 900\n    html-math-method: katex\n    theme:\n      - default\nexecute:\n  echo: true\n  warning: false\n  message: false\n  error: true\neditor: source\n---\n\n\n\n## Introduction\n\n- Today we have discussed that we turn to nonparametric tests when we do not meet distributional assumptions for *t*-tests.\n\n- If we do not meet the normality assumption for the paired *t*-test, we turn to the Wilcoxon signed rank.\n\n- Like in the dependent *t*-test, we will analyze the *difference* between two values.\n\n- Like in the Wilcoxon rank sum, we will be analyzing ranks.\n\n## Wilcoxon Signed Rank\n\n- Before ranking, we will find the difference between the paired observations and eliminate any 0 differences.\n\n    - Note 1: elimniating 0 differences is the big difference between the other tests! \n    \n    - Note 2: because we are eliminating 0 differences, this means that our sample size will update to the number of pairs with a non-0 difference.\n    \n- When ranking, we the differences are ranked based on the absolute value of the difference.\n\n- We also keep the sign of the difference.\n\n    - We will have positive ranks and negative ranks.\n\n| *X* | *Y* | *D* | \\|*D*\\| | Rank |\n|-----|-----|-----|---------|------|\n| 5   | 8   | -3  | 3       | $-$ 1.5 |\n| 8   | 5   | 3   | 3       | $+$ 1.5  |\n| 4   | 4   | 0   | 0       | ---------   |\n\n## Wilcoxon Signed Rank{.smaller}\n\n**Hypotheses**\n\n- $H_0:$ $M_d = M_0$ | $H_0:$ $M_d \\le M_0$ | $H_0:$ $M_d \\ge M_0$\n- $H_1:$ $M_d \\ne M_0$ | $H_1:$ $M_d > M_0$ | $H_1:$ $M_d < M_0$\n\n**Test Statistic & *p*-Value**\n\n- $T_0 = \\min(T+,|T_-|)$ if two-tailed, $T_0 = T_+$ if left-tailed, and $T_0 = |T_-|$ if right-tailed.\n- $p =$ (calculated by R :))\n\n**Rejection Region**\n\n- Reject $H_0$ if $p < \\alpha$.\n\n**Conclusion/Interpretation**\n\n- [Reject or fail to reject] $H_0$.\n\n- There [is or is not] sufficient evidence to suggest [alternative hypothesis in words].\n\n## Wilcoxon Signed Rank\n\n-   We will again use the [`wilcox.test()`](https://www.rdocumentation.org/packages/stats/versions/3.6.1/topics/wilcox.test) function to perform the test,\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nwilcox.test(dataset$variable1, dataset$variable2,\n       alternative = \"alternative\",\n       mu = hypothesized_value,\n       paired = TRUE,\n       exact = FALSE)\n```\n:::\n\n\n\n## Wilcoxon Signed Rank\n\n- A stock analyst believes the median number of shares traded in Walgreens Boots Alliance (WBA) stock is greater than that in McDonald’s (MCD). Test the analyst’s belief at the $\\alpha=0.05$ level of significance.\n\n\n\n::: {.cell}\n\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nstocks <- tibble(WBA = c(8.9, 6.3, 6.2, 7.2, 2.8, 3.3, 23.6, \n                         6.0, 15.6, 5.2, 6.3, 10.1, 4.0, 8.4),\n                 MCD = c(8.5, 7.6, 8.3, 10.4, 2.5, 2.6, 3.5, \n                         4.7, 9.0, 6.0, 5.6, 5.0, 4.4, 5.6))\n```\n:::\n\n\n\n- Recall the R syntax,\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nwilcox.test(dataset$variable1, dataset$variable2,\n       alternative = \"alternative\",\n       mu = hypothesized_value,\n       paired = TRUE,\n       exact = FALSE)\n```\n:::\n\n\n\n## Wilcoxon Signed Rank\n\n- From the problem statement: *A stock analyst believes the median number of shares traded in Walgreens Boots Alliance (WBA) stock is greater than that in McDonald’s (MCD).*\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nwilcox.test(stocks$WBA, stocks$MCD,\n       alternative = \"greater\",\n       paired = TRUE, \n       exact = FALSE)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n\n\tWilcoxon signed rank test with continuity correction\n\ndata:  stocks$WBA and stocks$MCD\nV = 69, p-value = 0.1575\nalternative hypothesis: true location shift is greater than 0\n```\n\n\n:::\n:::\n\n\n\n## Wilcoxon Signed Rank{.smaller}\n\n- **Hypotheses**\n\n    - $H_0: \\ M_{\\text{WBA}} \\le M_{\\text{MCD}}$ OR $M_d \\le 0$, where $d = \\text{WBA} - \\text{MCD}$\n    - $H_1: \\ M_{\\text{WBA}} > M_{\\text{MCD}}$ OR $M_d > 0$\n    \n- **Test Statistic and *p*-Value**\n\n    - $V_0 = 69$\n    - $p = 0.158$\n    \n- **Rejection Region**\n\n    - Reject $H_0$ if $p < \\alpha$; $\\alpha = 0.05$.\n    \n- **Conclusion/Interpretation**\n\n    - Fail to reject $H_0$.\n    \n    - There is not sufficient evidence to suggest that the median stock shares traded is greater for WBA than for MCD.\n\n## **Wrap Up**\n\n- Today we reviewed the Wilcoxon signed rank test.\n    - Nonparametric alternative to the paired *t*-test.\n\n- This completes Module 1.\n\n- Next: comparing three or more groups.\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<link href=\"../../site_libs/pagedtable-1.1/css/pagedtable.css\" rel=\"stylesheet\" />\n<script src=\"../../site_libs/pagedtable-1.1/js/pagedtable.js\"></script>\n"
      ],
      "include-after-body": [
        "\n<script>\n  // htmlwidgets need to know to resize themselves when slides are shown/hidden.\n  // Fire the \"slideenter\" event (handled by htmlwidgets.js) when the current\n  // slide changes (different for each slide format).\n  (function () {\n    // dispatch for htmlwidgets\n    function fireSlideEnter() {\n      const event = window.document.createEvent(\"Event\");\n      event.initEvent(\"slideenter\", true, true);\n      window.document.dispatchEvent(event);\n    }\n\n    function fireSlideChanged(previousSlide, currentSlide) {\n      fireSlideEnter();\n\n      // dispatch for shiny\n      if (window.jQuery) {\n        if (previousSlide) {\n          window.jQuery(previousSlide).trigger(\"hidden\");\n        }\n        if (currentSlide) {\n          window.jQuery(currentSlide).trigger(\"shown\");\n        }\n      }\n    }\n\n    // hookup for slidy\n    if (window.w3c_slidy) {\n      window.w3c_slidy.add_observer(function (slide_num) {\n        // slide_num starts at position 1\n        fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);\n      });\n    }\n\n  })();\n</script>\n\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}